{% extends 'base.html' %}

{% block title %}Subjects List - SIH Smart Education{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center">
    <h3><i class="fas fa-book"></i> Subjects</h3>
    <a class="btn btn-primary" href="{% url 'admins:subject_create' %}">
        <i class="fas fa-plus"></i> Create Subject
    </a>
  </div>
  <table class="table table-striped mt-3">
    <thead><tr><th>Name</th><th>Code</th><th>Teacher</th><th style="width:160px;"></th></tr></thead>
    <tbody>
      {% for s in subjects %}
      <tr>
        <td>{{ s.name }}</td>
        <td>{{ s.code }}</td>
        <td>{{ s.teacher.user.get_full_name|default:s.teacher.user.username|default:"Unassigned" }}</td>
        <td>
          <a class="btn btn-sm btn-outline-primary" href="{% url 'admins:subject_edit' s.id %}">Edit</a>
          <a class="btn btn-sm btn-outline-danger" href="{% url 'admins:subject_delete' s.id %}">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="4" class="text-muted">No subjects</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}